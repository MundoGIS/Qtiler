
# Qtiler environment configuration (standalone QGIS at C:\QGIS)


# WFS
# NOTE: Many clients (QGIS/Origo) request tiles concurrently; huge defaults can cause timeouts.
WFS_DEFAULT_MAX_FEATURES=100000
WFS_MAX_FEATURES_LIMIT=4000000

# Number of Node worker processes (0 = auto = cpu count)
# NOTE: Each Node worker creates its own persistent Python/QGIS pool; keep this modest on Windows.
WORKER_COUNT=2
NODE_OPTIONS=--max-old-space-size=20000

# Number of persistent Python worker processes per Node worker
# NOTE: This is the main knob to prevent tiled WFS holes (queueing -> client timeouts).
PY_WORKER_POOL_SIZE=6

# Per-job timeout (seconds)
WORKER_JOB_TIMEOUT_S=300
JOB_MAX_PER_WORKER=100
WORKER_RESTART_DELAY_S=5
WORKER_MAX_RESTARTS=6
WORKER_RESTART_WINDOW_S=60
WORKER_MAX_MEMORY_MB=20000

# Python + QGIS (standalone)
# Adjusted for local installation at C:\QGIS
PYTHON_EXE=C:\QGIS_344\bin\python.exe
OSGEO4W_BIN=C:\QGIS_344\bin
# For standalone QGIS installers the actual QGIS prefix is under apps\qgis
# Update to the apps path so the Python package and DLLs are found
QGIS_PREFIX=C:\QGIS_344\apps\qgis
QT_PLUGIN_PATH=C:\QGIS_344\apps\qgis\qtplugins

# Keep QGIS loaded in persistent workers
QTILER_PERSISTENT_WORKER=1

NODE_EXE=C:\Program Files\nodejs\node.exe
QTILER_HOME=C:\Qtiler
